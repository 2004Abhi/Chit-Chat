(()=>{var e={};e.id=819,e.ids=[819],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},2661:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>p,routeModule:()=>m,tree:()=>d});var a=s(3137),r=s(4647),n=s(4183),l=s.n(n),i=s(1775),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let c=a.AppPageRouteModule,d=["",{children:["trychatbot",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4132)),"C:\\Users\\Apurv Krishn Jha\\Desktop\\CHTBTY\\chatbot-frnt\\src\\app\\trychatbot\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,1967)),"C:\\Users\\Apurv Krishn Jha\\Desktop\\CHTBTY\\chatbot-frnt\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1918,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["C:\\Users\\Apurv Krishn Jha\\Desktop\\CHTBTY\\chatbot-frnt\\src\\app\\trychatbot\\page.tsx"],u="/trychatbot/page",h={require:s,loadChunk:()=>Promise.resolve()},m=new c({definition:{kind:r.x.APP_PAGE,page:"/trychatbot/page",pathname:"/trychatbot",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2212:(e,t,s)=>{Promise.resolve().then(s.bind(s,2832))},2832:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>page});var a=s(80),r=s(9885),n=s(236),l=s(2451),i=s.n(l);let trychatbot_ChatBotComponent=({initialMessage:e="Hello! How Can I Assist You ?",chatbotTitle:t="Chat bot",brandImage:s="https://www.kindpng.com/picc/m/179-1798038_chatbots-builder-pricing-crozdesk-free-chatbot-hd-png.png",apiKey:l,switchAPI:o=!1,suggestions:c=[],rateLimitDuration:d=5e3})=>{let[p,u]=(0,r.useState)(!1),[h,m]=(0,r.useState)([]),[x,g]=(0,r.useState)(""),[b,f]=(0,r.useState)(!1),v=(0,r.useRef)(null),j=(0,r.useRef)(null),[y,w]=(0,r.useState)(!1),[N,C]=(0,r.useState)(c),handleSuggestionClick=e=>{g(e),sendMessage(),C([])};async function generateAnswers(e){try{let t=`https://chit-chat.tech/api/v1/QnARetrieval?key=${l}`;o&&(t=`https://your-hosted-domain/api/v1/organization/generateCompletion?key=${l}`);let s=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:e})}),a=await s.json();m(e=>[...e,{type:"bot",text:a.message}]),f(!1)}catch(e){console.error(e),m(e=>[...e,{type:"bot",text:"OOPs! something went wrong"}]),f(!1)}}(0,r.useEffect)(()=>{e&&m([{type:"bot",text:e}])},[e]),(0,r.useEffect)(()=>{p&&v.current?.focus()},[p]),(0,r.useEffect)(()=>{j.current?.scrollIntoView({behavior:"smooth"})},[h]),(0,r.useEffect)(()=>{C(c)},[c]);let sendMessage=()=>{if(x.trim()&&!y){let e={type:"user",text:x};m(t=>[...t,e]),g(""),f(!0),C([]),generateAnswers(x),w(!0),setTimeout(()=>w(!1),d)}};return a.jsx("div",{className:"fixed bottom-10 right-10",children:p?(0,a.jsxs)("div",{className:"w-80 h-96 border p-4 bg-white rounded-lg flex flex-col shadow-lg",children:[(0,a.jsxs)("div",{className:"mb-4 font-bold flex justify-between items-center text-black p-2 rounded-t-lg",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(i(),{src:s,alt:"brand",className:"w-6 h-6 rounded-full object-cover mr-2"}),a.jsx("span",{children:t})]}),a.jsx("button",{onClick:()=>u(!1),children:a.jsx(n.ZCS,{})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto mb-4",children:[h.map((e,t)=>(0,a.jsxs)("div",{className:`p-2 my-2 ${"user"===e.type?"ml-auto":""}`,children:["bot"===e.type&&(0,a.jsxs)("div",{className:"flex items-center",children:[a.jsx(i(),{src:s,alt:"Bot",className:"w-6 h-6 rounded-full mr-2"}),a.jsx("span",{className:"text-black bg-gray-300 rounded-md pr-4 p-2",children:e.text})]}),"user"===e.type&&(0,a.jsxs)("div",{className:"flex flex-col items-end",children:[a.jsx("span",{className:"text-gray-600 text-sm mb-1",children:"You"}),a.jsx("span",{className:"bg-gray-300 pr-4 p-2 rounded-md text-black",children:e.text})]})]},t)),b&&a.jsx("div",{className:"text-gray-600",children:"Bot is typing..."}),a.jsx("div",{ref:j}),N.length>0&&a.jsx(a.Fragment,{children:(0,a.jsxs)("div",{className:"flex overflow-y-auto",children:[a.jsx(i(),{src:s,alt:"Bot",className:"w-6 h-6 rounded-full mr-2"}),(0,a.jsxs)("div",{className:"bg-gray-300 p-2 rounded-lg",children:[a.jsx("div",{className:"mt-2",children:"Here are Some Suggestions"}),N.map((e,t)=>a.jsx("div",{className:"flex items-center mt-2",children:a.jsx("button",{className:"chatbot-suggestion-label bg-white hover:bg-gray-500 text-black rounded-md px-2 py-1",onClick:()=>handleSuggestionClick(e),children:e})},t))]})]})})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx("input",{ref:v,type:"text",value:x,onChange:e=>g(e.target.value),onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),sendMessage())},className:"flex-1 p-2 border rounded-md"}),a.jsx("button",{onClick:sendMessage,disabled:b||y,className:"px-1 py-1 bg-blue-500 hover:bg-blue-600 active:bg-blue-700 text-white rounded-md",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",height:"30px",width:"30px",children:a.jsx("path",{fill:"#d7d7d7",d:"M22,11.7V12h-0.1c-0.1,1-17.7,9.5-18.8,9.1c-1.1-0.4,2.4-6.7,3-7.5C6.8,12.9,17.1,12,17.1,12H17c0,0,0-0.2,0-0.2c0,0,0,0,0,0c0-0.4-10.2-1-10.8-1.7c-0.6-0.7-4-7.1-3-7.5C4.3,2.1,22,10.5,22,11.7z"})})})]})]}):a.jsx("div",{onClick:()=>u(!0),className:"w-16 h-16 bg-white rounded-full flex items-center justify-center cursor-pointer shadow-lg",children:a.jsx(i(),{src:s,alt:"Chat Icon",className:"w-full h-full rounded-full object-cover"})})})};var o=s(8312),c=s(2479),d=s(505);let page=()=>{let e=c.Z.get("UserId"),[t,s]=(0,r.useState)({apiKey:"",initialMessage:"Hello! How Can I Assist You ?",chatbotTitle:"Chat bot",brandImage:"https://www.kindpng.com/picc/m/179-1798038_chatbots-builder-pricing-crozdesk-free-chatbot-hd-png.png",suggestions:[],rateLimitDuration:5e3});return a.jsx(a.Fragment,{children:e?(0,a.jsxs)(a.Fragment,{children:[a.jsx(o.Z,{}),(0,a.jsxs)("div",{className:" sm:pt-20 pt-48 overflow-y-auto flex items-center justify-center",children:[a.jsx("div",{className:"bg-white bg-opacity-50 rounded p-8 w-96",children:(0,a.jsxs)("form",{className:"space-y-4",onSubmit:e=>{e.preventDefault(),console.log(t)},children:[(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Chit Chat APIKEY :"}),a.jsx("input",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Enter your APIKEY",value:t.apiKey,onChange:e=>s(t=>({...t,apiKey:e.target.value}))})]}),(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Initial Message:"}),a.jsx("input",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Initial Message",value:t.initialMessage,onChange:e=>s(t=>({...t,initialMessage:e.target.value}))})]}),(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Chatbot Title:"}),a.jsx("input",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Chatbot Title",value:t.chatbotTitle,onChange:e=>s(t=>({...t,chatbotTitle:e.target.value}))})]}),(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Brand Image URL:"}),a.jsx("input",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Brand Image URL",value:t.brandImage,onChange:e=>s(t=>({...t,brandImage:e.target.value}))})]}),(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Suggestions:"}),a.jsx("textarea",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Enter suggestions (one per line)",value:t.suggestions.join("\n"),onChange:e=>s(t=>({...t,suggestions:e.target.value.split("\n")}))})]}),(0,a.jsxs)("label",{children:[a.jsx("div",{className:"font-sans font-semibold text-md p-2",children:"Rate Limit Duration (in MS):"}),a.jsx("input",{className:"block bg-pink-400 bg-opacity-10 rounded p-2 w-full",placeholder:"Rate Limit Duration",type:"number",value:t.rateLimitDuration,onChange:e=>s(t=>({...t,rateLimitDuration:Number(e.target.value)}))})]}),a.jsx("button",{type:"submit",className:"mt-4 bg-pink-500 text-white rounded p-2",children:"Submit"})]})}),a.jsx(trychatbot_ChatBotComponent,{...t})]})]}):a.jsx(d.Z,{})})}},4132:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>n,default:()=>o});var a=s(7536);let r=(0,a.createProxy)(String.raw`C:\Users\Apurv Krishn Jha\Desktop\CHTBTY\chatbot-frnt\src\app\trychatbot\page.tsx`),{__esModule:n,$$typeof:l}=r,i=r.default,o=i}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[273,575,610,175,225,185,505],()=>__webpack_exec__(2661));module.exports=s})();